<h3>
  {{ l('app.advert_edit') }}
</h3>
<div ng-form='advertForm' novalidate>
   <!-- applicant input -->
  <div class="row advert-add-person-form">
    <div class="col-xs-12">
      <br>
      <legend> {{ l('advert.applicant') }} </legend>
    </div>
    <div class="col-xs-12">
      <people-input context='applicant_context || contextFor("applicant")'
                    person='advert.applicant'
                    ng-hide='advert.applicant.id'
                    ></people-input>

      </people-input>
    </div>
    <div class='col-xs-12 people-list'>
      <people-list person='advert.applicant'
                   person_type='applicant'
                   destroy-with='destroyPost'
                   ng-if='advert.applicant.id'
                   ></people-list>
    </div>
  </div>

  <!-- end of applicant input -->
  <div class="row">
    <div class="col-xs-12">
      <legend> {{ l('advert.title') }} </legend>
    </div>
    <div class="col-lg-6">
      <input type="text"
             ng-model='advert.title'
             placeholder='{{advert.title}}'
             name='title'
             class='form-control form-control-small'
             ng-model-options='{ debounce: 1000 }'
             ng-change='updateField("title")'
             required
            >

      <span ng-show='advertForm.title.$invalid && advertForm.title.$dirty' class='invalid-message'>
        {{ l('forms.field-invalid')}}
      </span>
      </button>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12">
      <legend> {{ l('advert.science_degree') }} </legend>
    </div>
    <div class="col-lg-6">
      <select ng-options='degree.value for degree in science.science_degrees track by degree.value'
              ng-model='science_degree'
              placeholder='{{advert.science_degree}}'
              name='title'
              class='form-control form-control-small'
              ng-model-options='{ debounce: 1000 }'
              ng-change='copyFrom("science_degree")'
              required
            >

      <span ng-show='advertForm.title.$invalid && advertForm.title.$dirty' class='invalid-message'>
        {{ l('forms.field-invalid')}}
      </span>
      </button>
    </div>
  </div>

  <!-- mentor input -->
  <br>
  <div class="row advert-add-person-form">
    <div class="col-xs-12">
      <legend> {{ l('advert.mentor') }} </legend>
    </div>
    <div class="col-xs-12">
      <people-input context='mentor_context || contextFor("mentor")'
                    person='advert.mentor'
                    ng-hide='advert.mentor.id'
                    ></people-input>

      </people-input>
    </div>
    <div class='col-xs-12'>
      <people-list person='advert.mentor'
                   person_type='mentor'
                   destroy-with='destroyPost'
                   ng-if='advert.mentor.id'
                   >
      </people-list>
    </div>
  </div>
  <!-- end of applicant input -->

  <!-- speciality input -->
  <div class="row">
    <div class="col-xs-12">
      <legend> {{ l('advert.speciality') }} </legend>
    </div>
    <div class="col-xs-12">
      <speciality-input speciality='advert.council_speciality'
                        add-function='addSpeciality'
                        is-single='true'

                        ></speciality-input>

      <speciality-list speciality='advert.council_speciality'
                       destroy-function='destroySpeciality'
      ></speciality-list>
    </div>
  </div>
  <!-- end of speciality input -->

  <!-- dissertation council select -->
  <div class="row">
    <div class="col-xs-12">
      <legend> {{ l('advert.dissertation_council') }} </legend>
    </div>
    <div class="col-lg-6">
      <select ng-model='advert.dissertation_council'
              ng-options='council.number for council in avalaibleCouncils track by council.id'
              ng-change='updateDissertationCouncil()'
              class='form-control'
              required
              >
              </select>
    </div>
  </div>
  <!-- end of dissertation council select -->

  <!-- publication date -->
  <br>
  <div class="row">
    <div class="col-xs-12">
      <legend> {{ l('advert.publication_date') }} </legend>
    </div>
    <div class="col-lg-6" ng-if='advert.id'>
      <date-selector label="{{ l('advert.publication_date') }}"
                     target='advert.publication_date'
                     update-function='updateField'
                     field-name='publication_date'
                     ></date-selector>
    </div>
  </div>
  <!-- end of publication date -->

  <!-- placement date -->
  <br>
  <div class="row">
    <div class="col-xs-12">
      <legend> {{ l('advert.placement_date') }} </legend>
    </div>
    <div class="col-lg-6" ng-if='advert.id'>
      <date-selector label="{{ l('advert.placement_date') }}"
                     target='advert.placement_date'
                     update-function='updateField'
                     field-name='placement_date'
                     ></date-selector>
    </div>
  </div>
  <!-- end of publication date -->

  <!-- place of dissertation defense -->
  <br>
  <div class="row">
    <div class="col-xs-12">
      <legend> {{ l('advert.place')}} </legend>
    </div>
    <div class="col-lg-6">
      <input type="text"
             ng-model='advert.place'
             placeholder='{{ l("advert.place") }}'
             name='place'
             class='form-control form-control-small'
             ng-model-options='{ debounce: 1000 }'
             ng-change='updateField("place")'
             required
            >
      <span ng-show='advertForm.place.$invalid && advertForm.place.$dirty'>
        {{ l('forms.field-invalid') }}
      </span>
    </div>
  </div>
  <!-- end place of dissertation defense -->

  <!-- file upload -->
  <br>
  <div class="row file-uploads" ng-if='advert.id'>
    <div class="col-xs-12">
      <legend> {{ l('advert.files_upload') }} </legend>
    </div>
    <div class="col-xs-12 well">
      <label>
        {{ l('advert.files.dissertation') }}
      </label>
      <file-uploader multiple='single'
                     file='advert.dissertation'
                     kind='dissertation'
                     context-type='Advert'
                     context-id='advert.id'
                     >
      </file-uploader>
    </div>
    <div class="col-xs-12 well">
      <label>
        {{ l('advert.files.synopsis') }}
      </label>
      <file-uploader multiple='single'
                     file='advert.synopsis'
                     kind='synopsis'
                     context-type='Advert'
                     context-id='advert.id'
                     >
      </file-uploader>
    </div>
    <div class="col-xs-12 well">
      <label>
        {{ l('advert.files.conclusion') }}
      </label>
      <file-uploader multiple='multiple'
                     files='advert.conclusion'
                     kind='conclusion'
                     context-type='Advert'
                     context-id='advert.id'
                     >
      </file-uploader>
    </div>
    <div class="col-xs-12 well">
      <label>
        {{ l('advert.files.review') }}
      </label>
      <file-uploader multiple='multiple'
                     files='advert.review'
                     kind='review'
                     context-type='Advert'
                     context-id='advert.id'
                     >
      </file-uploader>
    </div>
    <div class="col-xs-12 well">
      <label>
        {{ l('advert.files.protocol') }}
      </label>
      <file-uploader multiple='single'
                     file='advert.protocol'
                     kind='protocol'
                     context-type='Advert'
                     context-id='advert.id'
                     >
      </file-uploader>
    </div>
    <div class="col-xs-12 well">
      <label>
        {{ l('advert.files.council_conclusion') }}
      </label>
      <file-uploader multiple='single'
                     file='advert.council_conclusion'
                     kind='council_conclusion'
                     context-type='Advert'
                     context-id='advert.id'
                     >
      </file-uploader>
    </div>
  </div>
  <!-- end of file upload -->

  <!-- leading organization -->
  <div class="row leading-organization" ng-if='advert.id'>
    <div class="col-xs-12 title">
      <legend> {{ l('advert.organization_name') }} </legend>
      <textarea  ng-model='advert.organization_name'
                 placeholder='{{ l("advert.organization_name") }}'
                 name='organization_name'
                 class='form-control form-control-small'
                 ng-model-options='{ debounce: 1000 }'
                 ng-change='updateField("organization_name")'
                 required
                 rows='5'
            ></textarea>
      <span ng-show='advertForm.organization_name.$invalid && advertForm.organization_name.$dirty'>
        {{ l('forms.field-invalid') }}
      </span>
    </div>
    <div class="col-xs-12 well">
      <label>
        {{ l('advert.files.organization_review') }}
      </label>
      <file-uploader multiple='single'
               file='advert.organization_review'
               kind='organization_review'
               context-type='Advert'
               context-id='advert.id'
               >
      </file-uploader>
    </div>
    <div class="col-xs-12 well">
      <label>
        {{ l('advert.files.organization_publication') }}
      </label>
      <file-uploader multiple='single'
               file='advert.organization_publication'
               kind='organization_publication'
               context-type='Advert'
               context-id='advert.id'
               >
      </file-uploader>
    </div>
  </div>
  <!-- end of leading organization -->

  <!-- opponents -->
  <div class="row advert-add-person-form">
    <div class="col-xs-12">
      <legend> {{ l('advert.opponents') }} </legend>
    </div>
    <div class="col-xs-12">
      <people-input context='opponent_context || contextFor("opponent")'
                    people='advert.opponents'
                    >
      </people-input>
    </div>
    <div class="col-xs-12 people-list">
      <people-list people='advert.opponents'
                   person-type='opponent'
                   context='opponent_context || contextFor("opponent")'
                   destroy-with='destroyPost'
                   >
      </people-list>
    </div>
  </div>
  <!-- end of opponents -->

  <!-- reviewers -->
  <div class="row">
    <div class="col-xs-12">
      <legend> {{ l('advert.reviewer_review') }} </legend>
    </div>
    <div class="col-xs-12">
      <people-input context='reviewer_context || contextFor("reviewer")'
                    people='advert.reviewers'
                    >
      </people-input>
      <people-list people='advert.reviewers'
                   person-type='reviewer'
                   context='reviewer_context || contextFor("reviewer")'
                   destroy-with='destroyPost'
                   >
      </people-list>
    </div>
  </div>
  <!-- end of reviewers -->

</div>
